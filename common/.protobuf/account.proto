syntax = "proto3";

option go_package="handworks/common/grpc/account";
import "google/protobuf/timestamp.proto";

service AccountService {
    rpc SignUpCustomer(SignUpCustomerRequest) returns (SignUpCustomerResponse);
    rpc SignUpEmployee(SignUpEmployeeRequest) returns (SignUpEmployeeResponse);
    rpc GetCustomer(GetCustomerRequest) returns (GetCustomerResponse);
    rpc GetEmployee (GetEmployeeRequest) returns (GetEmployeeResponse);
    rpc UpdateCustomer(UpdateCustomerRequest) returns (UpdateCustomerResponse);
    rpc UpdateEmployee(UpdateEmployeeRequest) returns (UpdateEmployeeResponse);
    rpc UpdateEmployeePerformanceScore(UpdatePerformanceScoreRequest) returns (UpdatePerformanceScoreResponse);
    rpc UpdateEmployeeStatus(UpdateEmployeeStatusRequest) returns (UpdateEmployeeStatusResponse);
    rpc DeleteEmployee(DeleteEmployeeRequest) returns (DeleteEmployeeResponse);
    rpc DeleteCustomer(DeleteCustomerRequest) returns (DeleteCustomerResponse);
}
message Account {
  string id = 1;
  string first_name = 2;
  string last_name = 3;
  string email = 4;
  string provider = 5;
  string role = 6;
  string clerk_id = 7;
  google.protobuf.Timestamp created_at = 8;
  google.protobuf.Timestamp updated_at = 9;
}
message Customer {
    string id = 1;
    Account account = 2;
    // add binded addresses here
}
message Employee {
    string id = 1;
    Account Account = 2;
    string position = 3;
    EmployeeStatus status = 4;
    float performance_score = 5;
    google.protobuf.Timestamp hire_date = 6;
    int32 num_ratings = 7;
}
enum EmployeeStatus {
    ACTIVE = 0;
    ONDUTY = 1;
    INACTIVE = 2;
}
message GetCustomerRequest {
    string id = 1;
}
message GetCustomerResponse {
    Customer customer = 1;
}
message GetEmployeeRequest {
    string id = 1;
}
message GetEmployeeResponse {
    Employee employee = 1;
}
message SignUpCustomerRequest {
    string first_name = 1;
    string last_name = 2;
    string email = 3;
    string provider = 4;
    string clerk_id = 5;
    string role = 6;
}
message SignUpCustomerResponse {
    Customer customer = 1;
}
message SignUpEmployeeRequest {
    string first_name = 1;
    string last_name = 2;
    string email = 3;
    string provider = 4;
    string clerk_id = 5;
    string role = 6;
    string position = 7;
    google.protobuf.Timestamp hire_date = 8;
}
message SignUpEmployeeResponse {
    Employee employee = 1;
}
message UpdateCustomerRequest {
    string id = 1;
    string first_name = 2;
    string last_name = 3;
    string email = 4;
    string customer_id = 5;
}
message UpdateCustomerResponse {
    Customer customer = 1;
}
message UpdateEmployeeRequest {
    string id = 1;
    string first_name = 2;
    string last_name = 3;
    string email = 4;
    string employee_id = 5;
}
message UpdateEmployeeResponse {
    Employee employee = 1;
}
message UpdatePerformanceScoreRequest {
    string id = 1;
    float new_performance_score = 2;
}
message UpdatePerformanceScoreResponse {
    Employee employee = 1;
}
message UpdateEmployeeStatusRequest {
    string id = 1;
    string status = 2;
}
message UpdateEmployeeStatusResponse {
    Employee employee = 1;
}
message DeleteEmployeeRequest{
    string id = 1;
    string empId = 2;
}
message DeleteEmployeeResponse {
    bool ok = 1;
    string message = 2;
    Employee employee = 3;
}
message DeleteCustomerRequest {
    string id = 1;
    string custId = 2;
}
message DeleteCustomerResponse {
    bool ok = 1;
    string message = 2;
    Customer customer = 3;
}

